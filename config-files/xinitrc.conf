#!/bin/sh

xset s off
xset -dpms
xset s noblank

unclutter-xfixes -idle 0 &
openbox &
sleep 3

# 1. Start Chromium in windowed mode to initialize profile/settings
chromium-browser --window-position=1920,0 --window-size=1920,1080 --app=http://127.0.0.1:4001/timer &

# 2. Wait for Chromium to start and (hopefully) save preferences
sleep 2

# 3. Kill Chromium cleanly
killall chromium

# 4. Give it a moment to exit (optional, but helps with reliability)
sleep 1

# 5. Now start Chromium in Kiosk mode
chromium-browser --kiosk http://127.0.0.1:4001/timer &

wait
